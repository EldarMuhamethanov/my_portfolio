---
import Card from '../Card.astro'
import { Button } from '../ui/button'

const PDF = `${import.meta.env.BASE_URL}/CV.pdf`
---

<Card colSpan="md:col-span-1" rowSpan="md:row-span-4">
  <div class="flex flex-col h-full">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-xl font-bold text-zinc-800 dark:text-zinc-100">Резюме</h2>
      <svg 
        xmlns="http://www.w3.org/2000/svg" 
        class="w-5 h-5 text-zinc-500 dark:text-zinc-400"
        viewBox="0 0 24 24" 
        fill="none" 
        stroke="currentColor" 
        stroke-width="2" 
        stroke-linecap="round" 
        stroke-linejoin="round"
      >
        <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
        <polyline points="14 2 14 8 20 8"/>
      </svg>
    </div>

    <div class="flex flex-col flex-1">
      <div class="sm:block hidden relative flex-1 rounded-lg overflow-hidden bg-zinc-50 dark:bg-zinc-900 mb-6">
        <figure class="h-full">
          <object
            data={PDF}
            type="application/pdf"
            width="100%"
            height="100%"
            class="rounded-lg shadow-sm"
          >
            <p class="text-center text-sm text-zinc-500 dark:text-zinc-400 p-4">
              Ваш браузер не поддерживает просмотр PDF
            </p>
          </object>
        </figure>
      </div>

      <div class="flex flex-col gap-4">
        <p class="text-sm text-foreground/70 leading-relaxed">
          Посмотреть и загрузить моё резюме можно, воспользовавшись кнопками ниже
        </p>
        
        <div class="flex gap-3 justify-center flex-col">
          <a 
            href={PDF}
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex"
          >
            <Button variant="outline" className="group">
              <span>Просмотреть</span>
              <svg 
                xmlns="http://www.w3.org/2000/svg" 
                class="w-4 h-4 ml-2 transition-transform"
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                stroke-width="2" 
                stroke-linecap="round" 
                stroke-linejoin="round"
              >
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                <polyline points="15 3 21 3 21 9"/>
                <line x1="10" y1="14" x2="21" y2="3"/>
              </svg>
            </Button>
          </a>

          <a 
            href={PDF}
            download="Resume.pdf"
            class="inline-flex"
          >
            <Button className="group">
              <span>Загрузить</span>
              <svg 
                xmlns="http://www.w3.org/2000/svg" 
                class="w-4 h-4 ml-2 transition-transform"
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                stroke-width="2" 
                stroke-linecap="round" 
                stroke-linejoin="round"
              >
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/>
                <line x1="12" y1="15" x2="12" y2="3"/>
              </svg>
            </Button>
          </a>
        </div>
      </div>
    </div>
  </div>
</Card>